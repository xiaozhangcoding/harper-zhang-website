---
const currentPath = Astro.url.pathname;

const navLinks = [
  { href: '/', label: 'Home' },
  { href: '/blog', label: 'Blog' },
  { href: '/about', label: 'About' },
  { href: '/contact', label: 'Contact' },
];

function isActive(href: string): boolean {
  if (href === '/') {
    return currentPath === '/';
  }
  return currentPath.startsWith(href);
}
---

<nav class="py-6 px-4 md:px-8">
  <div class="max-w-3xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-4">
    <a href="/" class="text-2xl font-heading text-softBrown hover:text-accent no-underline">
      Xiao Zhang
    </a>
    <ul class="flex gap-6 list-none p-0 m-0">
      {navLinks.map((link) => (
        <li>
          <a
            href={link.href}
            class:list={[
              'no-underline text-warmGray hover:text-accent transition-colors',
              { 'text-accent font-medium': isActive(link.href) },
            ]}
          >
            {link.label}
          </a>
        </li>
      ))}
    </ul>
  </div>
</nav>
